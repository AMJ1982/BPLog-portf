"use strict";(self.webpackChunkbplog=self.webpackChunkbplog||[]).push([[904],{4453:(e,s,l)=>{l.d(s,{Z:()=>o});l(2791);var t=l(184);const o=e=>{let{text:s,type:l,onClick:o,className:a,style:i,disabled:n}=e;return(0,t.jsx)("button",{type:l,className:a,onClick:o,style:i,disabled:n,children:s})}},7904:(e,s,l)=>{l.r(s),l.d(s,{default:()=>b});l(2791);var t=l(9513),o=l.n(t),a=l(7418),i=l(2506),n=l(9477),r=l(6276),d=l(2968),m=l(5048),c=l(1866),u=l(4471),p=l(4453),f=(l(8639),l(184));const b=e=>{let{closeModal:s,initialValues:l}=e;const{showDialog:t}=(0,u.R)(),b=(0,m.v9)((e=>e.login.medList)),h=(0,m.I0)(),x=(0,d.Z)(),j=new Date;l=l?{...l,time:l.time.substring(0,5)}:{date:(0,c.p6)(j),time:(0,c.mr)(j),systolic:"",diastolic:"",pulse:"",meds:[]};const y=b?b.map((e=>({value:e,label:e}))):[];return(0,f.jsx)(i.J9,{initialValues:l,onSubmit:e=>{"id"in e?(0!==e.pulse&&""!==e.pulse||(e.pulse="-"),h((0,n.ld)(e)),t(x.forms.update.updated,"message")):(e.monthObjectKey=(0,c.vI)(e.date),h((0,n.Yo)(e)),h((0,r.q0)(e.monthObjectKey))),s()},validate:e=>{const s={};for(let l in e)"notes"!==l&&"meds"!==l&&"pulse"!==l&&(e[l]||(s[l]=x.forms.err.empty));return(Number(e.systolic)<90||Number(e.systolic)>250)&&(s.systolic="".concat(x.forms.err.outOfBounds,"(90-250)")),(Number(e.diastolic)<40||Number(e.diastolic)>120)&&(s.diastolic="".concat(x.forms.err.outOfBounds,"(40-120)")),s},children:e=>{let{values:s,setFieldValue:t}=e;return(0,f.jsxs)(i.l0,{className:"form",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{htmlFor:"date",children:x.forms.newRecord.date}),(0,f.jsx)(o(),{className:"formField",id:"date",name:"date",dateFormat:"dd/MM/yy",selected:new Date(s.date),onChange:e=>t("date",(0,c.p6)(e)),disabled:l.id})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{htmlFor:"date",children:x.forms.newRecord.time}),(0,f.jsx)(i.gN,{className:"formField",type:"time",id:"time",name:"time"})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{htmlFor:"systolic",children:x.forms.newRecord.sys}),(0,f.jsx)(i.gN,{className:"formField",type:"number",min:"90",max:"250",id:"systolic",name:"systolic",autoFocus:!0}),(0,f.jsx)(i.Bc,{name:"systolic",component:"div",className:"formik_error"})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{htmlFor:"diastolic",children:x.forms.newRecord.dia}),(0,f.jsx)(i.gN,{className:"formField",type:"number",min:"40",max:"120",id:"diastolic",name:"diastolic"}),(0,f.jsx)(i.Bc,{name:"diastolic",component:"div",className:"formik_error"})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{htmlFor:"pulse",children:x.forms.newRecord.pul}),(0,f.jsx)(i.gN,{className:"formField",type:"number",id:"pulse",name:"pulse"}),(0,f.jsx)(i.Bc,{name:"pulse",component:"div",className:"formik_error"})]}),(0,f.jsx)("label",{htmlFor:"meds",children:x.forms.newRecord.meds}),(0,f.jsx)(i.gN,{className:"formField",placeholder:x.forms.select.placeHolder,component:a.ZP,id:"meds",isMulti:!0,isSearchable:!1,options:y,name:"meds",defaultValue:l.meds.map((e=>({value:e,label:e[0].toUpperCase().concat(e.substring(1))}))),onChange:e=>{s.meds=e.map((e=>e.value))}}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{htmlFor:"notes",children:x.forms.newRecord.notes}),(0,f.jsx)(i.gN,{className:"formField",as:"textarea",id:"notes",name:"notes"})]}),(0,f.jsx)(p.Z,{className:"button",text:x.forms.newRecord.submit,type:"submit"})]})}})}},4471:(e,s,l)=>{l.d(s,{R:()=>o});l(2791);let t;const o=()=>{const e=(e,s)=>{e.classList.add("visible"),e.childNodes[0].innerText=s},s=e=>{e.classList.remove("visible")},l=async(s,l,o)=>(e(s,l),new Promise((e=>{t=e}))),o=(l,t,o,a)=>{l.style.borderColor=a?"#f84f31":"#3f7e51",e(l,t),setTimeout((()=>{s(l)}),3e3)};return{showDialog:async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=document.getElementById(t);if("confirm"===t){const t=await l(i,e);return s(i),t}o(i,e,0,a)},onConfirm:()=>{t(!0)},onCancel:()=>{t(!1)}}}}}]);
//# sourceMappingURL=904.77de12f2.chunk.js.map