"use strict";(self.webpackChunkbplog=self.webpackChunkbplog||[]).push([[931],{1452:(e,s,i)=>{i.r(s),i.d(s,{default:()=>w});var t=i(2791),n=i(4250),c=i(7689),l=i(5048),a=i(6276),d=i(4483),r=i(2968),o=i(3174),m=i(8152),x=i(1866),v=i(184);const h=(0,t.lazy)((()=>i.e(340).then(i.bind(i,7340)))),u=t.forwardRef(((e,s)=>{const[i,n]=(0,t.useState)(!1),c=(0,r.Z)(),[l,a]=e.day,[u,j,p]=l.split("/"),N=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;n(null===e?!i:e)};(0,t.useImperativeHandle)(s,(()=>({expand:N})));const f=(0,x.j3)(a.readings);return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{className:"list-item",onClick:()=>{e.toggleExpanded("".concat(l,"-list"))},children:[(0,v.jsxs)("div",{className:"item-field-bp-cont outer",children:[(0,v.jsxs)("div",{className:"item-field-bp-cont",children:[(0,v.jsxs)("div",{className:"item-field-bp",children:[(0,v.jsx)("div",{className:"item-bp",children:j}),(0,v.jsx)("div",{className:"guide-text",children:"".concat(u,"/").concat(p)})]}),(0,v.jsxs)("div",{className:"item-field-bp",children:[(0,v.jsx)("div",{className:"guide-text",children:c.view.listItem.sys}),(0,v.jsx)("div",{className:"item-bp sys",children:f.systolic}),(0,v.jsx)("div",{className:"guide-text",children:"mmHg"})]}),(0,v.jsxs)("div",{className:"item-field-bp",children:[(0,v.jsx)("div",{className:"guide-text",children:c.view.listItem.dia}),(0,v.jsxs)("div",{className:"item-bp dia",children:[" ",f.diastolic]}),(0,v.jsx)("div",{className:"guide-text",children:"mmHg"})]}),(0,v.jsxs)("div",{className:"item-field-bp",children:[(0,v.jsx)("div",{className:"guide-text",children:c.view.listItem.pul}),(0,v.jsx)("div",{className:"item-bp pul",children:f.pulse}),(0,v.jsx)("div",{className:"guide-text",children:"bpm"})]})]}),(0,v.jsx)("div",{className:"item-field-bp",children:i?(0,v.jsxs)("div",{className:"item-bp",children:[(0,v.jsx)("span",{className:"list-guide-text",children:c.view.listItem.showLess}),(0,v.jsx)(d.G,{icon:o.onQ})]}):(0,v.jsxs)("div",{className:"item-bp",children:[(0,v.jsx)("span",{className:"list-guide-text",children:c.view.listItem.showMore}),(0,v.jsx)(d.G,{icon:o.gc2})]})})]}),i?(0,v.jsxs)("div",{className:"item-cont-expanded",children:[(0,v.jsx)("div",{className:"guide-text",children:c.view.listItem.entry.entries}),(0,v.jsx)("div",{children:(0,v.jsx)(t.Suspense,{fallback:(0,v.jsx)(m.Z,{}),children:[...a.readings].sort(x.ZO).map((e=>(0,v.jsx)(h,{content:e,texts:c},e.id)))})})]}):null]})})}));u.displayName="ListItem";const j=u,p=e=>{let{selectedMonth:s}=e;const i=(0,l.I0)(),[t,n,c,r]=(0,l.v9)((e=>{let{view:s,data:i,lan:t}=e;if(!i||0===Object.keys(i))return null;const n=Object.keys(i.entries);return[n,n[0],n[n.length-1],t]})),m=e=>{const n=e.target.firstChild.dataset.icon,c=t.findIndex((e=>e===s));"angle-left"===n&&i((0,a.q0)(t[c-1])),"angle-right"===n&&i((0,a.q0)(t[c+1]))};return t.includes(s)?(0,v.jsxs)("div",{className:"view-option-bar",id:"time-selection-bar",children:[(0,v.jsx)("div",{children:s.toString()!==n&&(0,v.jsx)("div",{className:"icon-div",onClick:m,children:(0,v.jsx)(d.G,{className:"icon",icon:o.EyR})})}),(0,v.jsx)("select",{value:s,className:"view-option month",onChange:e=>{let{target:s}=e;i((0,a.q0)(s.value))},children:t.map((e=>(0,v.jsx)("option",{value:e,children:(0,x.ZY)(e,r)},e)))}),(0,v.jsx)("div",{children:s.toString()!==c&&(0,v.jsx)("div",{className:"icon-div",onClick:m,children:(0,v.jsx)(d.G,{className:"icon",icon:o.yOZ})})})]}):null};var N=i(9042);i(4676);const f=(0,t.lazy)((()=>i.e(806).then(i.bind(i,9806)))),b=e=>{let{viewType:s}=e;const[n,c]=(0,t.useState)(null),[d,o]=(0,t.useState)(null),[m,h]=(0,t.useState)(null),[u,b,g,w,k]=(0,l.v9)((e=>[e.data,e.view.month,e.view.timePeriod,e.login,e.lan]),l.wU),y=Object.entries(u.entries),[C]=(0,t.useState)((()=>y.findIndex((e=>e[0]===b)))),I=(0,l.I0)(),O=(0,r.Z)(),S=(0,t.useRef)(),E=(0,t.useRef)();(0,t.useEffect)((()=>(S.current=[],E.current=[],y.length<1?(c(null),void o(null)):"list"===s?c(y.map((e=>P(e)))):void o(y.map((e=>{if(Object.keys(e[1]).length>1)return P(e)}))))),[u,s,g]),(0,t.useEffect)((()=>{if(m){const e=y.findIndex((e=>e[0]===b));e>=0&&(m.activeIndex=e),m.update()}}),[n,d,b]);const G=(0,t.useCallback)((e=>{for(let s in S.current)null!==S.current[s]&&(s===e?S.current[s].expand():S.current[s].expand(!1))}),[]),P=(0,t.useCallback)((e=>{const[i,n]=e,c=Object.entries(n).sort(x.Pf).slice(0,g);return(0,v.jsx)(N.o5,{"data-month-object-key":i,children:"list"===s?c.map((e=>{const i="".concat(e[0],"-").concat(s);return(0,v.jsx)(j,{ref:e=>S.current[i]=e,day:e,toggleExpanded:G},i)})):(0,v.jsx)(t.Suspense,{children:(0,v.jsx)(f,{ref:i=>E.current["".concat(e[0],"-").concat(s)]=i,month:c},"".concat(i,"-").concat(s))})},"".concat(i,"-").concat(s,"-slide"))}),[s,g]);if(!n&&!d||!y)return null;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(p,{selectedMonth:b}),(0,v.jsx)("button",{className:"pdf-btn",onClick:async()=>{const e=(await Promise.all([i.e(844),i.e(436)]).then(i.bind(i,5938))).default,{pdf:t}=(await Promise.all([i.e(844),i.e(480)]).then(i.bind(i,8844))).default,n=await t((0,v.jsx)(e,{contents:Object.entries(y.find((e=>e[0]===b))[1]).sort(x.Pf),chartImg:"chart"===s&&E.current["".concat(b,"-chart")].toImage(),user:w,monthObjectKey:b,lan:k,texts:O})).toBlob(),{saveAs:c}=(await i.e(802).then(i.t.bind(i,4802,23))).default;c(n,"".concat(b,"-").concat(s))},children:O.view.pdf.btn}),(0,v.jsx)(N.tq,{className:"list-item-wrapper",spaceBetween:100,autoHeight:!1,onSlideChange:e=>{var s;const i=null===(s=e.slides[e.activeIndex])||void 0===s?void 0:s.dataset.monthObjectKey;I((0,a.q0)(i))},onSwiper:h,initialSlide:C,observer:!0,children:"list"===s?n:d})]})},g=e=>{let{timePeriod:s,texts:i}=e;const n=(0,t.useMemo)((()=>document.getElementsByClassName("view-option")),[]),c=(0,l.I0)();return(0,t.useEffect)((()=>{for(let e of n)e.id===s.toString()?e.classList.add("selected"):e.classList.remove("selected")}),[s]),(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{className:"view-option-bar",children:[(0,v.jsx)("div",{id:"1",className:"view-option",onClick:()=>c((0,a.QU)("day")),children:i.view.viewOptions.day}),(0,v.jsx)("div",{id:"7",className:"view-option",onClick:()=>c((0,a.QU)("week")),children:i.view.viewOptions.week}),(0,v.jsx)("div",{id:"31",className:"view-option",onClick:()=>c((0,a.QU)("month")),children:i.view.viewOptions.month})]})})},w=()=>{const[e]=(0,t.useContext)(n.t),[s,i]=(0,t.useState)("list"),[a,m,x,h]=(0,l.v9)((e=>[e.data,e.view.timePeriod,e.view.month,e.login]),l.wU),u=Object.entries(a.entries),j=(0,t.useMemo)((()=>(0,v.jsx)(b,{viewType:s})),[s]),p=(0,r.Z)(),N=(0,c.s0)(),f=(0,t.useMemo)((()=>{const e=u.find((e=>e[0]===x));return!(!x||void 0===e)&&Object.keys(e[1]).length>1}),[x,a]);return(0,t.useEffect)((()=>{u.length<1&&N("/")}),[a]),(0,v.jsx)("div",{children:h&&u.length>0&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"data-container",children:[(0,v.jsx)(g,{timePeriod:m,texts:p}),j,(0,v.jsxs)("div",{className:"icon-bar",children:[(0,v.jsxs)("div",{className:"icon-div",onClick:()=>N("/"),children:[(0,v.jsx)(d.G,{className:"icon",icon:o.J9Y}),(0,v.jsx)("div",{className:"icon-text",children:p.view.iconBar.home})]}),(0,v.jsxs)("div",{"data-form-type":"createRecord",className:"icon-div",onClick:s=>e(s),children:[(0,v.jsx)(d.G,{className:"icon",icon:o.r8p}),(0,v.jsx)("div",{className:"icon-text",children:p.view.iconBar.new})]}),(0,v.jsxs)("div",{className:"icon-div",onClick:()=>i("list"),children:[(0,v.jsx)(d.G,{className:"icon",icon:o.Zrf}),(0,v.jsx)("div",{className:"icon-text",children:p.view.iconBar.list})]}),f&&(0,v.jsxs)("div",{className:"icon-div",onClick:()=>i("chart"),children:[(0,v.jsx)(d.G,{className:"icon",icon:o.Stf}),(0,v.jsx)("div",{className:"icon-text",children:p.view.iconBar.chart})]})]})]}),(0,v.jsx)("div",{id:"bottom-block"})]})})}}}]);
//# sourceMappingURL=931.050887f1.chunk.js.map