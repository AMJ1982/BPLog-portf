{"version":3,"file":"static/js/727.cd7335f9.chunk.js","mappings":"mIAEA,MAYA,EAZe,IAA0D,IAAzD,KAAEA,EAAF,KAAQC,EAAR,QAAcC,EAAd,UAAuBC,EAAvB,MAAkCC,EAAlC,SAAyCC,GAAe,EACtE,OACE,mBACEJ,KAAMA,EACNE,UAAWA,EACXD,QAASA,EACTE,MAAOA,EACPC,SAAUA,EALZ,SAMEL,GAPJ,C,iICKF,MAsDA,EAtDkB,IAAqB,IAApB,WAAEM,GAAiB,EAEpC,MAAOC,EAAcC,IAAmBC,EAAAA,EAAAA,UAAS,MAC3CC,GAAWC,EAAAA,EAAAA,MACXC,GAAQC,EAAAA,EAAAA,KA8Bd,OACE,SAAC,KAAD,CAAQC,cA7BY,CACpBC,SAAU,GACVC,SAAU,IA2B4BC,SAxBvBC,UACf,IACE,MAAMC,QAAaC,EAAAA,EAAAA,MAAmBC,GACtCX,GAASY,EAAAA,EAAAA,IAAMH,IACfX,EAAgB,MAChBF,GAID,CAHC,MAAOiB,GACPC,QAAQC,IAAI,QAASF,GACrBf,EAAgBI,EAAMc,MAAMJ,MAAMK,IACnC,GAeyDC,SAZ3CC,IACf,MAAMC,EAAS,CAAC,EAEhB,IAAK,IAAIC,KAASF,EACXA,EAAOE,KAAQD,EAAOC,GAASnB,EAAMc,MAAMC,IAAIK,OAGtD,OAAOF,CAAP,EAKA,UACE,UAAC,KAAD,CAAM3B,UAAU,OAAhB,WACE,4BACE,kBAAO8B,QAAQ,WAAf,SAA2BrB,EAAMc,MAAMJ,MAAMH,QAC7C,SAAC,KAAD,CAAOhB,UAAU,YAAYF,KAAK,OAAOiC,GAAG,WAAWC,KAAK,WAAWC,WAAS,KAChF,SAAC,KAAD,CAAcD,KAAK,WAAWE,UAAU,MAAMlC,UAAU,qBAE1D,4BACE,kBAAO8B,QAAQ,WAAf,SAA2BrB,EAAMc,MAAMJ,MAAMgB,OAC7C,SAAC,KAAD,CAAOnC,UAAU,YAAYF,KAAK,WAAWiC,GAAG,WAAWC,KAAK,cAChE,SAAC,KAAD,CAAcA,KAAK,WAAWE,UAAU,MAAMlC,UAAU,oBAEzDI,IAAgB,gBAAK4B,KAAK,cAAcE,UAAU,MAAMlC,UAAU,eAAlD,SAAkEI,KACnF,SAAC,IAAD,CAAQJ,UAAU,SAASH,KAAMY,EAAMc,MAAMJ,MAAMG,IAAKxB,KAAK,eAdnE,C,yDCxCF,MAAMsC,EAAU,aAYhB,GAAiBjB,MAVHJ,gBACOsB,IAAAA,KAAWD,EAASlB,IAC3BoB,KAQUC,WALLxB,gBACMsB,IAAAA,KAAA,UAAcD,EAAd,eAAoC,CAAEI,WAC7CF,K","sources":["components/Button.js","components/forms/LoginForm.js","services/loginService.js"],"sourcesContent":["import React from 'react'\r\n\r\nconst Button = ({ text, type, onClick, className, style, disabled }) => {\r\n  return (\r\n    <button\r\n      type={type}\r\n      className={className}\r\n      onClick={onClick}\r\n      style={style}\r\n      disabled={disabled}\r\n    >{text}</button>\r\n  )\r\n}\r\n\r\nexport default Button","import React, { useState } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useLanguage } from '../../hooks/useLanguage'\r\nimport { Formik, Field, Form, ErrorMessage } from 'formik'\r\nimport { login } from '../../reducers/loginReducer'\r\nimport loginService from '../../services/loginService'\r\nimport Button from '../Button'\r\n\r\nconst LoginForm = ({ closeModal }) => {\r\n  // State for showing error message for wrong credentials\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n  const dispatch = useDispatch()\r\n  const texts = useLanguage()\r\n  \r\n  const initialValues = {\r\n    username: '',\r\n    password: ''\r\n  }\r\n\r\n  const onSubmit = async credentials => {\r\n    try {\r\n      const user = await loginService.login(credentials)\r\n      dispatch(login(user))\r\n      setErrorMessage(null)\r\n      closeModal()\r\n    } catch (exception) {\r\n      console.log('virhe', exception)\r\n      setErrorMessage(texts.forms.login.err)\r\n    }\r\n  }\r\n\r\n  const validate = values => {\r\n    const errors = {}\r\n    \r\n    for (let value in values) {\r\n      if (!values[value]) errors[value] = texts.forms.err.empty\r\n    }\r\n\r\n    return errors\r\n  }\r\n  \r\n  // To apply styles, component prop for ErrorMessage is needed.\r\n  return (\r\n    <Formik initialValues={initialValues} onSubmit={onSubmit} validate={validate}>\r\n      <Form className='form'>\r\n        <div>\r\n          <label htmlFor='username'>{texts.forms.login.user}</label>\r\n          <Field className='formField' type='text' id='username' name='username' autoFocus/>\r\n          <ErrorMessage name='username' component='div' className='formik_error'/>\r\n        </div>\r\n        <div>\r\n          <label htmlFor='password'>{texts.forms.login.pwd}</label>\r\n          <Field className='formField' type='password' id='password' name='password' />\r\n          <ErrorMessage name='password' component='div' className='formik_error'/>\r\n        </div>\r\n        {errorMessage && <div name='credentials' component='div' className='formik_error'>{errorMessage}</div>}\r\n        <Button className='button' text={texts.forms.login.log} type='submit' />\r\n      </Form>\r\n    </Formik>\r\n  )\r\n}\r\n\r\nexport default LoginForm","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async (credentials) => {\r\n  const user = await axios.post(baseUrl, credentials)\r\n  return user.data\r\n}\r\n\r\nconst checkToken = async (token) => {\r\n  const response = await axios.post(`${baseUrl}/checkToken`, { token })\r\n  return response.data\r\n}\r\n\r\nexport default { login, checkToken }"],"names":["text","type","onClick","className","style","disabled","closeModal","errorMessage","setErrorMessage","useState","dispatch","useDispatch","texts","useLanguage","initialValues","username","password","onSubmit","async","user","loginService","credentials","login","exception","console","log","forms","err","validate","values","errors","value","empty","htmlFor","id","name","autoFocus","component","pwd","baseUrl","axios","data","checkToken","token"],"sourceRoot":""}